%==============================================================================
\section{Thiết lập thực nghiệm}
%==============================================================================

\subsection{Không gian tham số tìm kiếm}

Theo phương pháp của bài báo gốc, các tham số DBSCAN được tối ưu như sau:
\begin{itemize}
    \item $minPts \in \{4, 5, 2d-1, 10, 15\}$ (trong đó $d$ là số chiều dữ liệu)
    \item $\varepsilon \in \{0.01, 0.05, 0.1, ..., 3.75\}$ (33 giá trị)
    \item $minPts_{DCSI} = 5$ (cố định cho đánh giá DCSI)
    \item \textbf{Tiêu chí tối ưu:} Tối đa hóa DCSI score
\end{itemize}

%------------------------------------------------------------------------------

\subsection{Kết quả tối ưu cho Dataset COMPAS}

\subsubsection{Cấu hình tốt nhất}

\begin{table}[H]
\centering
\begin{tabular}{lcccccc}
\toprule
\textbf{Config} & \textbf{Sensitive} & $d$ & $minPts$ & $\varepsilon$ & \textbf{DCSI} & \textbf{Balance} \\
\midrule
compas & race (4) & 4+1 & 15 & 0.3 & 0.9877 & 0.5383 \\
compas\_sex & sex (2) & 4+1 & 15 & 0.3 & 0.9808 & 0.6541 \\
compas2 & race+sex & 4+1 & 15 & 0.2 & 0.9879 & 0.5477 \\
\bottomrule
\end{tabular}
\caption{Kết quả tối ưu hyperparameters cho COMPAS}
\end{table}
\textbf{Nhận xét:}
\begin{itemize}
    \item DCSI rất cao ($>0.98$) cho thấy chất lượng phân cụm tốt.
    \item Balance ở mức trung bình ($\sim$0.54-0.65), FairDen sẽ cải thiện chỉ số này.
    \item $minPts = 15$ cho kết quả tốt nhất, lớn hơn công thức $2d-1=7$.
\end{itemize}

\subsubsection{\texorpdfstring{$\varepsilon$ tốt nhất cho mỗi $minPts$}{Epsilon tốt nhất cho mỗi minPts}}

\begin{table}[H]
\centering
\small
\begin{tabular}{l|ccc|ccc|ccc}
\toprule
& \multicolumn{3}{c|}{\textbf{Race only}} & \multicolumn{3}{c|}{\textbf{Sex only}} & \multicolumn{3}{c}{\textbf{Race + Sex}} \\
$minPts$ & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. \\
\midrule
4 & 1.0 & 0.88 & 12 & 0.8 & 0.89 & 11 & 0.5 & 0.95 & 9 \\
5 & 0.4 & 0.93 & 8 & 0.6 & 0.91 & 11 & 0.6 & 0.95 & 9 \\
7 & 0.1 & 0.95 & 22 & 0.3 & 0.96 & 5 & 0.6 & 0.94 & 8 \\
10 & 0.4 & 0.97 & 5 & 0.4 & 0.96 & 5 & 0.6 & 0.96 & 5 \\
\textbf{15} & \textbf{0.3} & \textbf{0.98} & \textbf{3} & \textbf{0.3} & \textbf{0.98} & \textbf{3} & \textbf{0.2} & \textbf{0.99} & \textbf{3} \\
\bottomrule
\end{tabular}
\caption{$\varepsilon$ tối ưu cho mỗi giá trị $minPts$ theo từng cấu hình COMPAS}
\end{table}

%------------------------------------------------------------------------------

\subsection{Kết quả tối ưu cho Dataset Student Performance}

\subsubsection{Cấu hình tốt nhất}

\begin{table}[H]
\centering
\begin{tabular}{lcccccc}
\toprule
\textbf{Config} & \textbf{Sensitive} & $d$ & $minPts$ & $\varepsilon$ & \textbf{DCSI} & \textbf{Balance} \\
\midrule
student & sex (2) & 6+4 & 4 & 1.4 & 0.8000 & 0.7331 \\
student\_address & address (2) & 6+4 & 5 & 1.3 & 0.7691 & 0.5691 \\
student2 & address+sex & 6+4 & 5 & 1.5 & 0.8000 & 0.7297 \\
\bottomrule
\end{tabular}
\caption{Kết quả tối ưu hyperparameters cho Student Performance}
\end{table}

\textbf{Nhận xét:}
\begin{itemize}
    \item DCSI dao động từ 0.77-0.80 -- thấp hơn COMPAS nhưng vẫn chấp nhận được.
    \item Dataset sử dụng 6 thuộc tính số (failures, studytime, absences, Dalc, Medu, goout) và 4 thuộc tính phân loại (higher, internet, romantic, Mjob).
    \item $minPts$ nhỏ (4-5) phù hợp với dataset có kích thước nhỏ (505 mẫu sau xử lý).
\end{itemize}

\subsubsection{\texorpdfstring{$\varepsilon$ tốt nhất cho mỗi $minPts$}{Epsilon tốt nhất cho mỗi minPts}}

\begin{table}[H]
\centering
\small
\begin{tabular}{l|ccc|ccc|ccc}
\toprule
& \multicolumn{3}{c|}{\textbf{Sex only}} & \multicolumn{3}{c|}{\textbf{Address only}} & \multicolumn{3}{c}{\textbf{Address + Sex}} \\
$minPts$ & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. \\
\midrule
\textbf{4} & \textbf{1.4} & \textbf{0.80} & \textbf{2} & 1.3 & 0.76 & 4 & -- & -- & -- \\
\textbf{5} & 1.4 & 0.80 & 2 & \textbf{1.3} & \textbf{0.77} & \textbf{4} & \textbf{1.5} & \textbf{0.80} & \textbf{2} \\
10 & 1.0 & 0.66 & 3 & 1.0 & 0.66 & 3 & 0.8 & 0.93 & 8 \\
11 & 1.0 & 0.66 & 3 & 1.0 & 0.66 & 3 & -- & -- & -- \\
15 & 1.0 & 0.65 & 3 & 1.1 & 0.66 & 3 & 0.8 & 0.92 & 4 \\
\bottomrule
\end{tabular}
\caption{$\varepsilon$ tối ưu cho mỗi giá trị $minPts$ theo từng cấu hình Student}
\end{table}

%------------------------------------------------------------------------------

\subsection{Kết quả tối ưu cho Dataset Census}

\subsubsection{Cấu hình tốt nhất}

\begin{table}[H]
\centering
\begin{tabular}{lcccccc}
\toprule
\textbf{Config} & \textbf{Sensitive} & $d$ & $minPts$ & $\varepsilon$ & \textbf{DCSI} & \textbf{Balance} \\
\midrule
cens\_gender & gender (2) & 4 & 7 & 0.6 & 0.9895 & 0.6170 \\
cens\_race & race (5) & 4 & 10 & 0.5 & 0.9815 & 0.4974 \\
cens\_marital & marital (7) & 4 & 7 & 1.0 & 0.9812 & 0.4950 \\
\bottomrule
\end{tabular}
\caption{Kết quả tối ưu hyperparameters cho Census (đơn thuộc tính)}
\end{table}

\textbf{Nhận xét:}
\begin{itemize}
    \item DCSI rất cao ($>0.98$) cho thấy chất lượng phân cụm tốt.
    \item Sử dụng 4 thuộc tính số: age, education\_num, hours\_per\_week, capital\_gain.
    \item Dataset có 5000 mẫu được lấy từ UCI Census dataset.
    \item Balance dao động từ 0.50-0.62, thấp hơn COMPAS do phân bố không cân bằng.
\end{itemize}

\subsubsection{\texorpdfstring{$\varepsilon$ tốt nhất cho mỗi $minPts$}{Epsilon tốt nhất cho mỗi minPts}}

\begin{table}[H]
\centering
\small
\begin{tabular}{l|ccc|ccc|ccc}
\toprule
& \multicolumn{3}{c|}{\textbf{Gender only}} & \multicolumn{3}{c|}{\textbf{Race only}} & \multicolumn{3}{c}{\textbf{Marital only}} \\
$minPts$ & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. & $\varepsilon$ & DCSI & Cl. \\
\midrule
4 & 1.0 & 0.98 & 2 & 1.0 & 0.97 & 2 & 1.0 & 0.96 & 2 \\
5 & 1.0 & 0.98 & 2 & 1.0 & 0.97 & 2 & 0.6 & 0.97 & 2 \\
\textbf{7} & \textbf{0.6} & \textbf{0.99} & \textbf{2} & 0.9 & 0.97 & 2 & \textbf{1.0} & \textbf{0.98} & \textbf{2} \\
\textbf{10} & 0.7 & 0.99 & 2 & \textbf{0.5} & \textbf{0.98} & \textbf{2} & 0.1 & 0.98 & 6 \\
15 & 0.7 & 0.99 & 2 & 0.6 & 0.98 & 2 & 1.0 & 0.98 & 2 \\
\bottomrule
\end{tabular}
\caption{$\varepsilon$ tối ưu cho mỗi giá trị $minPts$ theo từng cấu hình Census}
\end{table}

%------------------------------------------------------------------------------

\subsection{So sánh với các Dataset trong bài báo gốc}

\begin{table}[H]
\centering
\small
\begin{tabular}{lcccc}
\toprule
\textbf{Dataset} & Sens. Attr. $(g(a))$ & $d_n (+d_c)$ & $minPts$ & $\varepsilon$ \\
\midrule
\textit{Adult} (\cite{kohavi1996}) & race (5) & 5 (+2) & 4 & 2.1 \\
\textit{Adult} (\cite{kohavi1996}) & gender (2) & 5 (+2) & 9 & 0.15 \\
\textit{Adult} (\cite{kohavi1996}) & marital status (7) & 5 (+2) & 4 & 1.2 \\
\textit{Bank} (\cite{moro2014}) & marital (3) & 3 (+2) & 4 & 1.5 \\
\textit{Communities} \citep{asuncion2007} & black (2) & 67 & 10 & 3.25 \\
\textit{diabetes} \citep{strack2014} & gender (2) & 7 & 10 & 0.45 \\
\midrule
\textbf{COMPAS (\cite{propublica2016})} & \textbf{race (4)} & \textbf{4 (+1)} & \textbf{15} & \textbf{0.3} \\
\textbf{COMPAS (\cite{propublica2016})} & \textbf{sex (2)} & \textbf{4 (+1)} & \textbf{15} & \textbf{0.3} \\
\textbf{Student (\cite{cortez2008})} & \textbf{sex (2)} & \textbf{6 (+4)} & \textbf{4} & \textbf{1.4} \\
\textbf{Student (\cite{cortez2008})} & \textbf{address (2)} & \textbf{6 (+4)} & \textbf{5} & \textbf{1.3} \\
\textbf{Census (\cite{kohavi1996})} & \textbf{gender (2)} & \textbf{4} & \textbf{7} & \textbf{0.6} \\
\textbf{Census (\cite{kohavi1996})} & \textbf{race (5)} & \textbf{4} & \textbf{10} & \textbf{0.5} \\
\textbf{Census (\cite{kohavi1996})} & \textbf{marital (7)} & \textbf{4} & \textbf{7} & \textbf{1.0} \\
\bottomrule
\end{tabular}
\caption{So sánh thiết lập thực nghiệm với các dataset trong bài báo gốc}
\end{table}
